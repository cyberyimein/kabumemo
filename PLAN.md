# 开发计划

## 目标

开发一个记录我日常股票交易的工具。目前规划是前端使用 vuejs，后端使用 python 的 fastapi，数据存储使用 csv 或 json 文件。前后端分离，前端只负责展示和输入，后端负责数据处理和存储，通讯使用 restful api。

## 功能需求

分为三个模块

1.交易表

记录每笔交易的流水表
**包括**

- 日期：不填写就默认今天
- 股票名称：作为持仓表的索引
- 数量：买入为正，卖出为负
- 价格：购入总价：因为交易平台自动计算了手续费，而且 NISA 账户没有手续费，所以单价和手续费不需要记录
- 资金组：我的资金分为多组，打算不同交易风格互相对比，而且有从其他计划花费中挪用资金的情况
- 日元/美元标记：我交易日股和美股，资金有日元和美元两种
- 日股美股标记：日股只能用日元买卖，美股可以用美元和日元买卖
- 纳税标记：已经纳税会被标记为 Y，未纳税为 N。购买记录默认是 Y。卖出默认是 N，但是可以手动改为 Y

  2.持仓表

根据交易表计算当前持仓，持仓表不需要按照资金组区分
**包括**

- 股票名称
- 剩余数量
- 平均成本：通过交易表计算，
- 落地盈亏：通过交易表计算

该表的展示打算采用选项卡的形式，不区分日股美股，直接展示所有持仓

3.资金表

记录每个资金组的总额和盈亏
**包括**

- 资金组名称
- 初始资金
- 当前总额
- 总盈亏

资金表的显示打算采用选项卡的形式，区分日元和美元

4.纳税表单
该页面会显示交易表中的纳税标记为 N 的卖出记录。我选择一项后。在表单输入纳税金额，则会向对应的资金组扣除该金额，并且将该卖出记录的纳税标记改为 Y。同时要有选择是日元还是美元纳税的选项。如果是美元，需要有日元缴税额，汇率的输入框（实际缴税只能是日元，因此需要根据汇率换算）。API 需要有校验功能，防止美元资金组使用日元缴税，反之亦然。

## 技术需求

### **资金组**

- 资金组需要能够灵活添加和删除

### **数据存储**

- 数据需要存储在本地，而不是写在代码里
- 数据格式建议使用 CSV 或 JSON，方便手动编辑和查看
- 数据文件需要有备份和恢复功能，目前构思是导出为 zip 文件，手动上传到 iCloud

### **用户界面**

- 用户界面暂定使用 vuejs，不同表和表单使用同一个页面的不同 tab 来区分。默认打开交易表
- UI 需要简洁明了，方便日常使用

## 后续补充
